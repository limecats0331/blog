{"componentChunkName":"component---src-templates-post-jsx","path":"/StringFormat/","result":{"data":{"site":{"siteMetadata":{"title":"limecats"}},"markdownRemark":{"id":"224a90fb-42a1-5491-bcb5-f8e2daf9366d","excerpt":"문제 인식 해당 문제를 푸는데  방식을 사용해서 풀었더니 시간 초과가 발생했다.\n브론즈 문제에서 별 다른 알고리즘으로 최적화하는 것은 아니라고 생각해서 문자열을 로 만들어서 합쳤더니 시간내로 들어오게 되었다. 그래서 얼마나 시간 차이가 나는지 왜 이렇게 시간 차이가 나는지 궁금해서 찾아보게 되었다. 테스트 에서는 다른 방법으로 성능 테스트를 하지만 어떤 …","html":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">https://www.acmicpc.net/problem/20299\nstring format 방식을 사용하면 시간초과가 나는데 왜 나고 무슨 차이가 있을까?</code></pre></div>\n<h2>문제 인식</h2>\n<p>해당 문제를 푸는데 <code class=\"language-text\">String Fomat</code> 방식을 사용해서 풀었더니 시간 초과가 발생했다.\n브론즈 문제에서 별 다른 알고리즘으로 최적화하는 것은 아니라고 생각해서 문자열을 <code class=\"language-text\">StringBuilder</code>로 만들어서 합쳤더니 시간내로 들어오게 되었다.</p>\n<p>그래서 얼마나 시간 차이가 나는지 왜 이렇게 시간 차이가 나는지 궁금해서 찾아보게 되었다.</p>\n<h2>테스트</h2>\n<p><code class=\"language-text\">stackOverFlow</code>에서는 다른 방법으로 성능 테스트를 하지만 어떤 식으로 측정하는지 잘 모르겠고 댓글에 틀린 측정 방법이라는 말이 많아서 그냥 신경 안쓰고 무식하게 출력해보기로 했다.</p>\n<p>10자리 순열을 <code class=\"language-text\">Next Permutation</code>을 이용해서 출력해볼 것이다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 610px; '>\n      <a class='gatsby-resp-image-link' href='/blog/static/dc38d9320fe89dde805cfdeb4349af5f/5d5ad/StringBuilder_formating_compare.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 153.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABYlAAAWJQFJUiTwAAACdklEQVR42qWWaW8aMRCG+TewnGF3vfdJkOgWhRBEoVHONj0+pdf/l956BkzcBZZF/TCyPXge5vV4DI2oWGO0+o7Z4yuWzz+wevmFD59/YvH0ivWX3/j49Q+K9TdE0zuE79bSVmwUFxVqfLNGUizhT++Rzh4wunnGaP6EXFp6dc/z7PqBPwvf38JLJ/CSS4ggg+nGML1kzxr56BK2bcEVFjxXwBwOIGyTR2t4AWGZbJZ5IX1yLff2uh0YrSYMo7UZNWukozFsx4Pn+QjDEMJx5NyDLQQcx4XretJc9gvpI+v1+2i3O+h09q2R5CNYwoEvIQyUAQQUDHQYpsy2bbY+A9uHgdeLJYIo4YAykIz8Ckww8lHgUeDVfIEwTjgoCIIdRAWT39nKVb5ut1sNDKJ4L0MK1iXrwErJ09kcXhAelFwGqkwrJT9+ekEqC0MbSTJlcUiyvq6UfLNcwQ+j2hkSuNfrHQfe3j1yUU4BVYYnz9CPU5j25jIfqrICEtw0TR4rM0xy2XrChe/7Jy+2qnQlMM62neKf7pRaVX4D+kc7RcEsy+Kx8gw3QPfoGeqdsnsc6kmuPkN9XkOyW1ll/cqcrHIdyXof1zzD6iorqDrP/8qw3HYnO+Uc4HlVLv0E6O+h/nKTnV3l8sUuZ11f8jZDFaxnqEuufA+PnSG1Wbni+gOrAGUwA21n0wFRFHFAkiTIsoy/oNVq8dlOJhNeE8AwDPaTKagCb4GefOuGDCKpBI7jmEGUIZn6AspuMBjsCncwQyH/HdCCgihTglFv53mOoiiQpinG4zH76MqQCsqY9lG2/wAjCXRcfydFySnP1aj2NZvNg5L/AhMv6HsO0QuyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='result' title='result' src='/blog/static/dc38d9320fe89dde805cfdeb4349af5f/5d5ad/StringBuilder_formating_compare.png' srcset='/blog/static/dc38d9320fe89dde805cfdeb4349af5f/e7570/StringBuilder_formating_compare.png 170w,\n/blog/static/dc38d9320fe89dde805cfdeb4349af5f/f46e7/StringBuilder_formating_compare.png 340w,\n/blog/static/dc38d9320fe89dde805cfdeb4349af5f/5d5ad/StringBuilder_formating_compare.png 610w' sizes='(max-width: 610px) 100vw, 610px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>result</figcaption>\n  </figure></p>\n<p>결과를 보면 약 11.5배의 차이를 보이게 된다.</p>\n<h2>이유</h2>\n<p><code class=\"language-text\">StringFormat</code> 내부에서 정규식을 사용해서 삽입할 위치를 찾아주고 해당 위치에 넣는 작업을 따로 수행하기 때문이였다.</p>\n<h2>결론</h2>\n<p>찾아보니 서버에서 로그 출력시 짧은 시간에 많은 로그를 출력할 때 문제가 발생하기도 한다고 한다.\n출력이 많이 필요한 경우에는 사용을 자제하고 코테에서는 <code class=\"language-text\">StringBuilder</code>를 쓰거나 내부적으로는 똑같다고 하니 그냥 <code class=\"language-text\">+</code>를 사용해야될 것 같다.</p>","frontmatter":{"title":"StringFormat","date":"August 22, 2022","update":"August 22, 2022","tags":["Java"],"series":null},"fields":{"slug":"/StringFormat/","readingTime":{"minutes":2.035}}},"seriesList":{"edges":[{"node":{"id":"224a90fb-42a1-5491-bcb5-f8e2daf9366d","fields":{"slug":"/StringFormat/"},"frontmatter":{"title":"StringFormat"}}},{"node":{"id":"e9851e36-5182-5b6a-8425-32210eea9ac8","fields":{"slug":"/m1_STS/"},"frontmatter":{"title":"m1 silicion mac에서 STS3 사용하기"}}}]},"previous":{"fields":{"slug":"/LIS/"},"frontmatter":{"title":"LIS"}},"next":{"fields":{"slug":"/watering/"},"frontmatter":{"title":"watering"}}},"pageContext":{"id":"224a90fb-42a1-5491-bcb5-f8e2daf9366d","series":null,"previousPostId":"c40ed68b-a6e4-57a7-8edd-5389ca1d5859","nextPostId":"84a8a250-5d32-536b-9452-d505b8cb6127"}},"staticQueryHashes":[]}